(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{206:function(e,t,a){"use strict";a.r(t);var s=a(28),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h3",{attrs:{id:"egret-图片加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#egret-图片加载"}},[e._v("#")]),e._v(" Egret 图片加载")]),e._v(" "),a("h4",{attrs:{id:"图片对象类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图片对象类"}},[e._v("#")]),e._v(" 图片对象类")]),e._v(" "),a("h5",{attrs:{id:"_1-得到一个位图对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-得到一个位图对象"}},[e._v("#")]),e._v(" 1. 得到一个位图对象")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("private img:egret.Bitmap = new egret.Bitmap();\n")])])]),a("h5",{attrs:{id:"_2-指定纹理的方式是设置-bitmap-中的-texture-属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-指定纹理的方式是设置-bitmap-中的-texture-属性"}},[e._v("#")]),e._v(" 2. 指定纹理的方式是设置 Bitmap 中的 texture 属性")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('img.texture = RES.getRes("图片ID");\n')])])]),a("h5",{attrs:{id:"_3-default-res-json文件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-default-res-json文件说明"}},[e._v("#")]),e._v(" 3. default.res.json文件说明")]),e._v(" "),a("p",[e._v('{\n"resources":\n[\n{"name":"bgImage","type":"image","url":"assets/bg.jpg"},\n{"name":"egretIcon","type":"image","url":"assets/egret_icon.png"},\n{"name":"description","type":"json","url":"config/description.json"}\n],\n"groups":\n[\n{"name":"preload","keys":"bgImage,egretIcon"}\n]\n}')]),e._v(" "),a("ul",[a("li",[e._v("name：对应资源的唯一ID编号。")]),e._v(" "),a("li",[e._v("type：资源类型")]),e._v(" "),a("li",[e._v("url：当前资源的路径")])]),e._v(" "),a("h5",{attrs:{id:"_4-使用异步加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-使用异步加载"}},[e._v("#")]),e._v(" 4. 使用异步加载")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('private async loadResource() {\n    try {\n        await RES.loadConfig("resource/default.res.json", "resource/");\n        await RES.loadGroup("preload", 0);\n    }\n    catch (e) {\n        console.error(e);\n    }\n}\n')])])]),a("ul",[a("li",[e._v("加载完成")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.addEventListener( RES.ResourceEvent.GROUP_COMPLETE, this.onResourceLoadComplete, this );\n")])])]),a("ul",[a("li",[e._v("预加载")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.addEventListener( RES.ResourceEvent.GROUP_PROGRESS, this.onResourceProgress, this );\n")])])]),a("ul",[a("li",[e._v("加载失败")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.addEventListener( RES.ResourceEvent.GROUP_LOAD_ERROR, this.onResourceLoadErr, this );\n")])])]),a("h5",{attrs:{id:"_5-获取资源的几种方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-获取资源的几种方式"}},[e._v("#")]),e._v(" 5. 获取资源的几种方式")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('private onGroupComplete(){\n    let img:egret.Bitmap = new egret.Bitmap();\n    img.texture = RES.getRes("bg_jpg");\n    this.addChild(img);\n}\n')])])]),a("p",[e._v("同步加载")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.getRes(name:string):any\n")])])]),a("p",[e._v("异步加载")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.getResAsync(name:string,compFunc:Function,thisObject:any):void\n")])])]),a("p",[e._v("网络加载")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RES.getResByUrl(url:string,compFunc:Function,thisObject:any,type:string=””):void\n")])])]),a("h4",{attrs:{id:"九宫格"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九宫格"}},[e._v("#")]),e._v(" 九宫格")]),e._v(" "),a("p",[a("img",{attrs:{src:"http://edn.egret.com/cn/data/upload/ueditor/20150527/556564e1e68d5.png",alt:"image"}})]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("var rect:egret.Rectangle = new egret.Rectangle(30,31,40,41);\nimg2.scale9Grid =rect;\n")])])]),a("ul",[a("li",[e._v("30：区域1 的宽度值。")]),e._v(" "),a("li",[e._v("31：区域1 的高度值")]),e._v(" "),a("li",[e._v("40：区域2 的宽度值")]),e._v(" "),a("li",[e._v("41：区域4 的高度值")])]),e._v(" "),a("h4",{attrs:{id:"填充方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#填充方式"}},[e._v("#")]),e._v(" 填充方式")]),e._v(" "),a("ul",[a("li",[e._v("第一种是拉伸图像以填充区域(默认是第一种)")]),e._v(" "),a("li",[e._v("第二种是重复图像以填充区域")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("对象.fillMode = egret.BitmapFillMode.REPEAT;\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('class FillModeTest extends egret.DisplayObjectContainer {\n    constructor() {\n        super();\n        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)\n    }\n\n    private onAddToStage() {\n        RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.imgLoad, this);\n        this.resourceLoad();\n    }\n\n    private async resourceLoad() {\n        await RES.loadConfig("resource/default.res.json", "resource/");\n        await RES.loadGroup("up_d");\n    }\n\n    private imgLoad() {\n        let img: egret.Bitmap = new egret.Bitmap();\n        img.texture = RES.getRes(\'news_detail_up_d\');\n        img.fillMode = egret.BitmapFillMode.REPEAT;\n        img.width *= 2;\n        img.height *= 3;\n        this.addChild(img);\n    }\n}\n')])])]),a("h3",{attrs:{id:"获取图片集"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取图片集"}},[e._v("#")]),e._v(" 获取图片集")]),e._v(" "),a("ul",[a("li",[e._v("使用"),a("code",[e._v("TexturePacker")]),e._v("软件导出 json和合并完的图片。")]),e._v(" "),a("li",[e._v("将导出的文件放入到assets文件夹下")]),e._v(" "),a("li",[e._v("配置文件")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n    "resources":[\n            {"name":"dogs","type":"sheet","url":"assets/dogs.json"}\n    ],\n    "groups":[\n            {"name":"preload","keys":"dogs"}\n    ]\n}\n')])])]),a("ul",[a("li",[e._v("代码使用")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('class BitMapsTest extends egret.DisplayObjectContainer {\n    constructor() {\n        super();\n        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this);\n    }\n\n    private onAddToStage() {\n        RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE, this.imgLoad, this)\n        this.resourceLoad();\n    }\n\n    private async resourceLoad() {\n        try {\n            await RES.loadConfig("resource/default.res.json", "resource/");\n            await RES.loadGroup("icons");\n        } catch (error) {\n            \n        }\n    }\n\n    private imgLoad() {\n        let imgs: egret.SpriteSheet = RES.getRes("mom_json"),\n            img: egret.Bitmap = new egret.Bitmap();\n        img.texture = imgs.getTexture(\'sign-check-icon\')\n        this.addChild(img);\n    }\n}\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);